<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
  <div class="card m-3">
    <h5 class="card-header text-center">Kalem Bilgileri</h5>
    <div class="card-body text-center">
      <mat-form-field>
        <mat-label>Geçici Beyanname No</mat-label>
        <input class="islem-no" matInput readonly #BeyannameNo [(ngModel)]="beyanInternalNo" />
      </mat-form-field>
     
      <mat-label>{{ beyanStatu }}</mat-label>

      <mat-menu #kalemheaderMenu="matMenu">
        <button
          mat-menu-item
          (click)="yukleKalemler()"
          [disabled]="
            beyanStatu !== ('Olusturuldu' || 'Güncellendi') ? false : true
          "
        >
          <mat-icon>refresh</mat-icon>
          <span>Listeyi Yenile</span>
        </button>
        <button
          mat-menu-item
          (click)="yeniKalem()"
          [disabled]="
            beyanStatu !== ('Olusturuldu' || 'Güncellendi') ? false : true
          "
        >
          <mat-icon>add</mat-icon>
          <span>Yeni Kalem</span>
        </button>
        <button
          mat-menu-item
          (click)="duzeltKalem()"
          [disabled]="
            beyanStatu !== ('Olusturuldu' || 'Güncellendi') && kalemInternalNo
              ? false
              : true
          "
        >
          <mat-icon>sync</mat-icon>
          <span>Kalem Düzeltme</span>
        </button>
        <button
          mat-menu-item
          (click)="silKalem(kalemInternalNo)"
          [disabled]="
            beyanStatu !== ('Olusturuldu' || 'Güncellendi') && kalemInternalNo
              ? false
              : true
          "
        >
          <mat-icon>remove</mat-icon>
          <span>Kalem Sil</span>
        </button>
      </mat-menu>

      <h6 class="card-header text-left">Kalemler</h6>
      <div class="card m-2">
        <button 
          mat-icon-button
          [matMenuTriggerFor]="kalemheaderMenu"
          class="header-dropdown-mat-icon-button"
        >
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-selection-list #KalemList multiple="false">
          
          <mat-list-option
            *ngFor="let kalem of _kalemler"
            [value]="kalem"
            [disableRipple]="true"
            (click)="getKalem(kalem.kalemSiraNo)"
          >
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
              "
            >
              <div style="display: flex; align-items: center;">
                <mat-icon matListAvatar>folder</mat-icon>
                <div style="display: flex; flex-direction: column;">
                  <h5 matLine>{{ kalem.kalemSiraNo }}</h5>
                  <p matLine>
                    {{ kalem.gtip }}
                  </p>
                </div>
              </div>
            </div>
          </mat-list-option>
       
        </mat-selection-list>
     
      </div>
      <form [formGroup]="kalemForm">
        <mat-card class="mat-card">
          <mat-tab-group>
            <mat-tab label="Genel Bilgiler">
              <div class="form-row">
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Kalem No</mat-label>
                    <input
                      readonly
                      matNativeControl
                      type="text"
                      formControlName="kalemSiraNo"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.kalemSiraNo.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.kalemSiraNo.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Menşei Ülke</mat-label>
                    <select
                      matNativeControl
                      formControlName="menseiUlke"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.menseiUlke.errors
                      }"
                    >
                      <option *ngFor="let g of _ulkeList" [value]="g.kod">{{
                        g.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.menseiUlke.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="focus.menseiUlke.errors.required">
                        Menşei Ülke Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Uluslararası Anlaşma</mat-label>
                    <select
                      matNativeControl
                      formControlName="uluslararasiAnlasma"
                      
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.uluslararasiAnlasma.errors
                      }"
                    >
                      <option *ngFor="let r of _anlasmaList" [value]="r.kod">{{
                        r.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.uluslararasiAnlasma.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Muafiyet Kodu 1</mat-label>
                    <select
                      matNativeControl
                      formControlName="muafiyetler1"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.muafiyetler1.errors
                      }"
                    >
                      <option *ngFor="let s of _muafiyetList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.muafiyetler1.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Muafiyet Kodu 2</mat-label>
                    <select
                      matNativeControl
                      formControlName="muafiyetler2"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.muafiyetler2.errors
                      }"
                    >
                      <option *ngFor="let s of _muafiyetList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.muafiyetler2.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Muafiyet Kodu 3</mat-label>
                    <select
                      matNativeControl
                      formControlName="muafiyetler3"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.muafiyetler3.errors
                      }"
                    >
                      <option *ngFor="let s of _muafiyetList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.muafiyetler3.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Muafiyet Kodu 4</mat-label>
                    <select
                      matNativeControl
                      formControlName="muafiyetler4"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.muafiyetler4.errors
                      }"
                    >
                      <option *ngFor="let s of _muafiyetList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.muafiyetler4.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Muafiyet Kodu 5</mat-label>
                    <select
                      matNativeControl
                      formControlName="muafiyetler5"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.muafiyetler5.errors
                      }"
                    >
                      <option *ngFor="let s of _muafiyetList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.muafiyetler5.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <div class="form-group form-check">
                    <input
                      type="checkbox"
                      formControlName="ikincilIslem"
                      id="ikincilIslem"
                      class="form-check-input"
                      [ngClass]="{
                        'is-invalid': submitted && focus.ikincilIslem.errors
                      }"
                    />
                    <mat-label for="ikincilIslem" class="form-check-label"
                      >İkincil İşlem</mat-label
                    >
                  </div>
                </div>
                <div class="form-group col">
                  <div class="form-group form-check">
                    <input
                      type="checkbox"
                      formControlName="imalatciFirmaBilgisi"
                      id="imalatciFirmaBilgisi"
                      class="form-check-input"
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.imalatciFirmaBilgisi.errors
                      }"
                    />
                    <mat-label
                      for="imalatciFirmaBilgisi"
                      class="form-check-label"
                      >İmalatci Firma
                    </mat-label>
                  </div>
                </div>
                <div class="form-group col">
                  <div class="form-group form-check">
                    <input
                      type="checkbox"
                      formControlName="mahraceIade"
                      id="mahraceIade"
                      class="form-check-input"
                      [ngClass]="{
                        'is-invalid': submitted && focus.mahraceIade.errors
                      }"
                    />
                    <mat-label for="mahraceIade" class="form-check-label"
                      >Mahrace İade</mat-label
                    >
                  </div>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Giriş Çıkış Amacı</mat-label>
                    <select
                      matNativeControl
                      formControlName="girisCikisAmaci"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.girisCikisAmaci.errors
                      }"
                    >
                      <option
                        *ngFor="let b of _girisCikisAmaciList"
                        [value]="b.kod"
                        >{{ b.kod }}</option
                      >
                    </select>
                    <div
                      *ngIf="submitted && focus.girisCikisAmaci.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Kalem İşlemin Niteliği</mat-label>
                    <select
                      matNativeControl
                      formControlName="kalemIslemNiteligi"
                      
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.kalemIslemNiteligi.errors
                      }"
                    >
                      <option
                        *ngFor="let s of _isleminNiteligiList"
                        [value]="s.kod"
                        >{{ s.kod }}</option
                      >
                    </select>
                    <div
                      *ngIf="submitted && focus.kalemIslemNiteligi.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="focus.kalemIslemNiteligi.errors.required">
                        İşlemin Niteliği Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Kullanilmiş Eşya</mat-label>
                    <select
                      matNativeControl
                      formControlName="kullanilmisEsya"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.kullanilmisEsya.errors
                      }"
                    >
                      <option
                        *ngFor="let s of _isleminNiteligiList"
                        [value]="s.kod"
                        >{{ s.kod }}</option
                      >
                    </select>
                    <div
                      *ngIf="submitted && focus.kullanilmisEsya.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Özellik</mat-label>
                    <select
                      matNativeControl
                      formControlName="ozellik"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.ozellik.errors
                      }"
                    >
                      <option *ngFor="let s of _ozellikList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.ozellik.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>STM İl Kodu</mat-label>
                    <select
                      matNativeControl
                      formControlName="stmIlKodu"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.stmIlKodu.errors
                      }"
                    >
                      <option *ngFor="let s of _stmIlKodList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.stmIlKodu.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>İmalatçı Vergi No</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="imalatciVergiNo"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.imalatciVergiNo.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.imalatciVergiNo.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Satır No</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="satirNo"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.satirNo.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.satirNo.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
              </div>
              <div class="card m-2">
                <div class="form-group col">
                  <mat-label>Giriş Çıkış Amacı Açıklama </mat-label>
                  <textarea
                    type="text"
                    rows="3"
                    formControlName="girisCikisAmaciAciklama"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        submitted && focus.girisCikisAmaciAciklama.errors
                    }"
                  ></textarea>

                  <div
                    *ngIf="submitted && focus.girisCikisAmaciAciklama.errors"
                    class="invalid-feedback"
                  ></div>
                </div>
              </div>
              <div class="card m-2">
                <div class="form-group col">
                  <mat-label>Muafiyet Açıklama</mat-label>
                  <textarea
                    type="text"
                    rows="3"
                    formControlName="muafiyetAciklamasi"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && focus.muafiyetAciklamasi.errors
                    }"
                  ></textarea>

                  <div
                    *ngIf="submitted && focus.muafiyetAciklamasi.errors"
                    class="invalid-feedback"
                  ></div>
                </div>
              </div>
              <div class="card m-2">
                <div class="form-group col">
                  <mat-label>Açıklama44</mat-label>
                  <textarea
                    type="text"
                    rows="3"
                    formControlName="aciklama44"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && focus.aciklama44.errors
                    }"
                  ></textarea>

                  <div
                    *ngIf="submitted && focus.aciklama44.errors"
                    class="invalid-feedback"
                  ></div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Eşya Bilgileri">
              <div class="form-row">
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Gtip</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="gtip"
                      [ngClass]="{
                        'is-invalid': submitted && focus.gtip.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.gtip.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="focus.gtip.errors.required">
                        Gtip Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Cins</mat-label>
                    <select
                      matNativeControl
                      formControlName="cins"
                      [ngClass]="{
                        'is-invalid': submitted && focus.cins.errors
                      }"
                    >
                      <option *ngFor="let s of _cinsList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.cins.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.cins.invalid"
                        class="alert alert-danger"
                      >
                        Cins Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Adet</mat-label>
                    <input
                      matNativeControl
                      formControlName="adet"
                      [ngClass]="{
                        'is-invalid': submitted && focus.adet.errors
                      }"
                    />

                    <div
                      *ngIf="submitted && focus.adet.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.adet.invalid"
                        class="alert alert-danger"
                      >
                        Adet Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Numara</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="numara"
                      [ngClass]="{
                        'is-invalid': submitted && focus.numara.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.numara.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.numara.invalid"
                        class="alert alert-danger"
                      >
                        Numara Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Marka</mat-label>
                    <input
                      matNativeControl
                      formControlName="marka"
                      [ngClass]="{
                        'is-invalid': submitted && focus.marka.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.marka.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.marka.invalid"
                        class="alert alert-danger"
                      >
                        Marka Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Ek Kod</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="ekKod"
                      [ngClass]="{
                        'is-invalid': submitted && focus.ekKod.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.ekKod.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Miktar</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="miktar"
                      [ngClass]="{
                        'is-invalid': submitted && focus.miktar.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.miktar.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.miktar.invalid"
                        class="alert alert-danger"
                      >
                        Miktar Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Miktar Birimi</mat-label>
                    <select
                      matNativeControl
                      formControlName="miktarBirimi"
                      [ngClass]="{
                        'is-invalid': submitted && focus.miktarBirimi.errors
                      }"
                    >
                      <option *ngFor="let s of _olcuList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.miktarBirimi.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.miktarBirimi.invalid"
                        class="alert alert-danger"
                      >
                        Miktar Birimi Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>İstatistiki Miktar</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="istatistikiMiktar"
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.istatistikiMiktar.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.istatistikiMiktar.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="focus.istatistikiMiktar.errors.required">
                        Teslim Şekli Yeri Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Tamamlayıcı Ölçü Birimi</mat-label>
                    <select
                      matNativeControl
                      formControlName="tamamlayiciOlcuBirimi"
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.tamamlayiciOlcuBirimi.errors
                      }"
                    >
                      <option *ngFor="let s of _olcuList" [value]="s.kod">{{
                        s.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.tamamlayiciOlcuBirimi.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.tamamlayiciOlcuBirimi.invalid"
                        class="alert alert-danger"
                      >
                        Tamamlayıcı Ölçü Birimi Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Net Ağırlık(kg)</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="netAgirlik"
                      [ngClass]="{
                        'is-invalid': submitted && focus.netAgirlik.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.netAgirlik.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.netAgirlik.invalid"
                        class="alert alert-danger"
                      >
                        Net Ağırlık Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Brüt Ağırlık(kg)</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="brutAgirlik"
                      [ngClass]="{
                        'is-invalid': submitted && focus.brutAgirlik.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.brutAgirlik.errors"
                      class="invalid-feedback"
                    >
                      <div
                        *ngIf="focus.brutAgirlik.invalid"
                        class="alert alert-danger"
                      >
                        Brüt Ağırlık Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>

                <div class="card m-2">
                  <div class="row">
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>1.Algılama Birimi</mat-label>
                        <select
                          matNativeControl
                          formControlName="algilamaBirimi1"
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaBirimi1.errors
                          }"
                        >
                          <option
                            *ngFor="let u of _algilamaList"
                            [value]="u.kod"
                            >{{ u.kod }}</option
                          >
                        </select>
                        <div
                          *ngIf="submitted && focus.algilamaBirimi1.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>1.Algılama Miktarı</mat-label>
                        <input
                          matNativeControl
                          type="text"
                          formControlName="algilamaMiktari1"
                          
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaMiktari1.errors
                          }"
                        />
                        <div
                          *ngIf="submitted && focus.algilamaMiktari1.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>2.Algılama Birimi</mat-label>
                        <select
                          matNativeControl
                          formControlName="algilamaBirimi2"
                          
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaBirimi2.errors
                          }"
                        >
                          <option
                            *ngFor="let u of _algilamaList"
                            [value]="u.kod"
                            >{{ u.kod }}</option
                          >
                        </select>
                        <div
                          *ngIf="submitted && focus.algilamaBirimi2.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>2.Algılama Miktarı</mat-label>
                        <input
                          matNativeControl
                          type="text"
                          formControlName="algilamaMiktari2"
                          
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaMiktari2.errors
                          }"
                        />
                        <div
                          *ngIf="submitted && focus.algilamaMiktari2.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>3.Algılama Birimi</mat-label>
                        <select
                          matNativeControl
                          formControlName="algilamaBirimi3"
                          
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaBirimi3.errors
                          }"
                        >
                          <option
                            *ngFor="let u of _algilamaList"
                            [value]="u.kod"
                            >{{ u.kod }}</option
                          >
                        </select>
                        <div
                          *ngIf="submitted && focus.algilamaBirimi3.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                    <div class="form-group col">
                      <mat-form-field>
                        <mat-label>3.Algılama Miktarı</mat-label>
                        <input
                          matNativeControl
                          type="text"
                          formControlName="algilamaMiktari3"
                          
                          [ngClass]="{
                            'is-invalid':
                              submitted && focus.algilamaMiktari3.errors
                          }"
                        />
                        <div
                          *ngIf="submitted && focus.algilamaMiktari3.errors"
                          class="invalid-feedback"
                        ></div>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="form-group col">
                  <mat-label>Ticari Tanım </mat-label>
                  <textarea
                    type="text"
                    rows="3"
                    formControlName="ticariTanimi"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && focus.ticariTanimi.errors
                    }"
                  ></textarea>

                  <div
                    *ngIf="submitted && focus.ticariTanimi.errors"
                    class="invalid-feedback"
                  ></div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Finansal Bilgiler">
              <div class="form-row">
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Teslim Şekli</mat-label>
                    <select
                      matNativeControl
                      formControlName="teslimSekli"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.teslimSekli.errors
                      }"
                    >
                      <option *ngFor="let g of _teslimList" [value]="g.kod">{{
                        g.kod
                      }}</option>
                    </select>
                    <div
                      *ngIf="submitted && focus.teslimSekli.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="focus.teslimSekli.errors.required">
                        Teslim Şekli Zorunlu
                      </div>
                    </div>
                  </mat-form-field>
                </div>

                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>İstatistiki Kiymet</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="istatistikiKiymet"
                      
                      [ngClass]="{
                        'is-invalid':
                          submitted && focus.istatistikiKiymet.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.istatistikiKiymet.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="form-group col">
                  <mat-form-field>
                    <mat-label>Sınır Geçiş Ücreti</mat-label>
                    <input
                      matNativeControl
                      type="text"
                      formControlName="sinirGecisUcreti"
                      
                      [ngClass]="{
                        'is-invalid': submitted && focus.sinirGecisUcreti.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && focus.sinirGecisUcreti.errors"
                      class="invalid-feedback"
                    ></div>
                  </mat-form-field>
                </div>
                <div class="card m-5">
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Fatura Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="faturaMiktariDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.faturaMiktariDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.faturaMiktariDovizi.errors"
                        class="invalid-feedback"
                      >
                        <div *ngIf="focus.faturaMiktariDovizi.errors.required">
                          Fatura Turarı Dövizi Zorunlu
                        </div>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Fatura Tutarı</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="faturaMiktari"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.faturaMiktari.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.faturaMiktari.errors"
                        class="invalid-feedback"
                      >
                        <div *ngIf="focus.faturaMiktari.errors.required">
                          Fatura Tutarı Zorunlu
                        </div>
                      </div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Navlun Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="navlunMiktariDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.navlunMiktariDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.navlunMiktariDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Navlun Tutarı</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="navlunMiktari"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.navlunMiktari.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.navlunMiktari.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Sigorta Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="sigortaMiktariDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.sigortaMiktariDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.sigortaMiktariDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Sigorta Tutarı</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="sigortaMiktari"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.sigortaMiktari.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.sigortaMiktari.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                </div>
                <div class="card m-10">
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Demuraj Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="yurtDisiDemurajDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiDemurajDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.yurtDisiDemurajDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Demuraj Tutarı</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiDemuraj"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiDemuraj.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiDemuraj.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Faiz Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="yurtDisiFaizDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiFaizDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.yurtDisiFaizDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Faiz </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiFaiz"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtDisiFaiz.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiFaiz.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Komisyon Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="yurtDisiKomisyonDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiKomisyonDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.yurtDisiKomisyonDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Komisyon </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiKomisyon"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiKomisyon.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiKomisyon.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Royalti Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="yurtDisiRoyaltiDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiRoyaltiDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.yurtDisiRoyaltiDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Royalti </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiRoyalti"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiRoyalti.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiRoyalti.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Diğer Dövizi</mat-label>
                      <select
                        matNativeControl
                        formControlName="yurtDisiDigerDovizi"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiDigerDovizi.errors
                        }"
                      >
                        <option *ngFor="let g of _dovizList" [value]="g.kod">{{
                          g.kod
                        }}</option>
                      </select>
                      <div
                        *ngIf="submitted && focus.yurtDisiDigerDovizi.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Diğer </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiDiger"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtDisiDiger.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiDiger.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt Dışı Diğer Açıklama</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtDisiDigerAciklama"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtDisiDigerAciklama.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtDisiDigerAciklama.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                </div>
                <div class="card m-15">
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Banka </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciBanka"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciBanka.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciBanka.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Çevre </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciCevre"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciCevre.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciCevre.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Depolama </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciDepolama"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtIciDepolama.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciDepolama.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi KKDF </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciKkdf"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciKkdf.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciKkdf.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Kültür </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciKultur"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciKultur.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciKultur.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Liman </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciLiman"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciLiman.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciLiman.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Tahliye </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciTahliye"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciTahliye.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciTahliye.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Diğer </mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciDiger"
                        
                        [ngClass]="{
                          'is-invalid': submitted && focus.yurtIciDiger.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciDiger.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                  <div class="form-group col">
                    <mat-form-field>
                      <mat-label>Yurt İçi Diğer Açıklama</mat-label>
                      <input
                        matNativeControl
                        type="text"
                        formControlName="yurtIciDigerAciklama"
                        
                        [ngClass]="{
                          'is-invalid':
                            submitted && focus.yurtIciDigerAciklama.errors
                        }"
                      />
                      <div
                        *ngIf="submitted && focus.yurtIciDigerAciklama.errors"
                        class="invalid-feedback"
                      ></div>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Marka">
                   <form [formGroup]="markaForm" novalidate>
                    <div
                      fxLayout="row"
                      fxLayout.xs="column"
                      fxLayoutWrap
                      fxLayoutGap="3.5%"
                      fxLayoutAlign="left"
                    >
                      <mat-card formArrayName="markaArry"
                        ><mat-card-title>Marka Bilgileri</mat-card-title
                        ><mat-divider></mat-divider>

                        <div
                          *ngFor="
                            let unit of markaBilgileri.controls;
                            let i = index
                          "
                        >
                          <mat-divider
                            *ngIf="markaBilgileri.controls.length > 1 && i > 0"
                          ></mat-divider
                          ><br />

                          <div [formGroupName]="i">
                            <div
                              fxLayout="row"
                              fxLayout.xs="column"
                              fxLayoutWrap
                              fxLayoutGap="3.5%"
                              fxLayoutAlign="center"
                            >
                              <mat-form-field fxFlex="10%">
                                <select
                                  matNativeControl
                                  placeholder="Marka Türü"
                                  formControlName="markaTuru"
                                >
                                  <option value="0">Tescilsiz</option>
                                  <option value="1">Tescilli</option>
                                </select>
                              </mat-form-field>

                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Marka Adı"
                                  formControlName="markaAdi"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Marka Kıtmeti"
                                  formControlName="markaKiymeti"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Marka Tescil No"
                                  formControlName="markaTescilNo"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Model"
                                  formControlName="model"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Motor Gücü"
                                  formControlName="motorGucu"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Motor Hacmi"
                                  formControlName="motorHacmi"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Motor No"
                                  formControlName="motorNo"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Motor Tipi"
                                  formControlName="motorTipi"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Model Yılı"
                                  formControlName="modelYili"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Renk"
                                  formControlName="renk"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Referans No"
                                  formControlName="referansNo"
                                />
                              </mat-form-field>
                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Silindir Adet"
                                  formControlName="silindirAdet"
                                />
                              </mat-form-field>

                              <mat-form-field fxFlex="30%">
                                <input
                                  matNativeControl
                                  type="text"
                                  placeholder="Vites"
                                  formControlName="vites"
                                />
                              </mat-form-field>
                              <button
                                mat-mini-fab
                                color="warn"
                                [disabled]="!kalemForm.valid"
                                (click)="deleteMarkaField(i)"
                              >
                                <mat-icon>delete forever</mat-icon>
                              </button>
                            </div>
                          </div>
                        </div>

                        <mat-divider></mat-divider
                        ><mat-card-actions
                          ><button
                            [disabled]="!kalemForm.valid"
                            mat-raised-button
                            (click)="addMarkaField()"
                          >
                            <mat-icon>add box</mat-icon>
                            Marka Ekle
                          </button></mat-card-actions
                        ></mat-card
                      >
                      <div></div>
                    </div>
                  </form>
            </mat-tab>
            <mat-tab label="Ödeme Şekli">
            
                <form [formGroup]="odemeForm" novalidate>
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="odemeArry"
                      ><mat-card-title>Ödeme Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of odemeBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="odemeBilgileri.controls.length > 1 && i > 0"
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="10%">
                              <select
                                matNativeControl
                                placeholder="Ödeme Şekli"
                                formControlName="odemeSekliKodu"
                              >
                                <option
                                  *ngFor="let s of _odemeList"
                                  [value]="s.kod"
                                  >{{ s.kod }}</option
                                >
                              </select>
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Ödeme Tutarı"
                                formControlName="odemeTutari"
                              />
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="TBF ID"
                                formControlName="tbfid"
                              />
                            </mat-form-field>
                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteOdemeField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addOdemeField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Ödeme Şekli Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
            
            </mat-tab>
            <mat-tab label="Konteyner">
           
                <form [formGroup]="konteynerForm" novalidate>
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="konteynerArry"
                      ><mat-card-title>Konteyner Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of konteynerBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="
                            konteynerBilgileri.controls.length > 1 && i > 0
                          "
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="10%">
                              <select
                                matNativeControl
                                placeholder="Ülke Kodu "
                                formControlName="ulkeKodu"
                              >
                                <option
                                  *ngFor="let s of _ulkeList"
                                  [value]="s.kod"
                                  >{{ s.kod }}</option
                                >
                              </select>
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Konteyner No"
                                formControlName="konteynerNo"
                              />
                            </mat-form-field>

                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteKonteynerField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addKonteynerField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Konteyner Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
             
            </mat-tab>
            <mat-tab label="Açmalar">
         
                <form [formGroup]="beyannameAcmaForm" novalidate>
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="acmaArry"
                      ><mat-card-title>Beyanname Açma Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of acmaBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="acmaBilgileri.controls.length > 1 && i > 0"
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Beyanname No"
                                formControlName="beyannameNo"
                              />
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Kalem No"
                                formControlName="kalemNo"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Miktar"
                                formControlName="miktar"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Açıklama"
                                formControlName="aciklama"
                              />
                            </mat-form-field>
                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteAcmaField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addAcmaField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Açma Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
             
            </mat-tab>
            <mat-tab label="Tamamlayıcı Bilgi">
          
                <form [formGroup]="tamamlayiciForm">
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="tamamlayiciArry"
                      ><mat-card-title>Tamamlayıcı Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of tamamlayiciBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="
                            tamamlayiciBilgileri.controls.length > 1 && i > 0
                          "
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Gtip"
                                formControlName="gtip"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Bilgi"
                                formControlName="bilgi"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                type="text"
                                placeholder="Oran"
                                formControlName="oran"
                              />
                            </mat-form-field>

                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteTamamlayiciField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addTamamlayiciField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Tamamlayıcı Bilgi Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
             
            </mat-tab>
            <mat-tab label="Vergiler">
             
                <form [formGroup]="vergiForm" novalidate>
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="vergiArry"
                      ><mat-card-title>Vergi Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of vergiBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="vergiBilgileri.controls.length > 1 && i > 0"
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="10%">
                              <select
                                matNativeControl
                                placeholder="Vergi Kodu"
                                formControlName="vergiKodu"
                                (change)="(vergiAd)"
                                required
                              >
                                <option
                                  *ngFor="let s of _vergiList"
                                  [value]="s.kod"
                                  >{{ s.kod }} {{ s.aciklama }}</option
                                >
                              </select>
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                readonly
                                matNativeControl
                                placeholder="Vergi Açıklması"
                                formControlName="vergiAciklamasi"
                              />
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                placeholder="Miktar"
                                formControlName="miktar"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                placeholder="Oran"
                                formControlName="oran"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                placeholder="Matrah"
                                formControlName="matrah"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="30%">
                              <select
                                matNativeControl
                                placeholder="Ödeme Şekli"
                                formControlName="odemeSekli"
                              >
                                <option value="P">Peşin</option>
                                <option value="C">Teminat</option>
                              </select>
                            </mat-form-field>
                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteVergiField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addVergiField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Vergi Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
            
            </mat-tab>
            <mat-tab label="Belgeler">
             
                <form [formGroup]="belgeForm" novalidate>
                  <div
                    fxLayout="row"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="belgeArry"
                      ><mat-card-title>Belge Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of belgeBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="belgeBilgileri.controls.length > 1 && i > 0"
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="3.5%"
                            fxLayoutAlign="center"
                          >
                            <mat-form-field fxFlex="10%">
                              <input
                              
                              matNativeControl
                              placeholder="Belge Kodu"
                              formControlName="belgeKodu"
                            />
                             
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                readonly
                                matNativeControl
                                placeholder="Belge Açıklaması"
                                formControlName="belgeAciklamasi"
                              />
                            </mat-form-field>

                            <mat-form-field fxFlex="10%">
                              <select
                                matNativeControl
                                placeholder="Doğrulam"
                                formControlName="dogrulama"
                                required
                              >
                              <option value=""></option>
                                <option value="V">Var</option>
                                <option value="S">Sonradan</option>
                                <option value="Y">Yok</option>
                              </select>
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                                matNativeControl
                                placeholder="Referans No"
                                formControlName="referans"
                              />
                            </mat-form-field>

                            <mat-form-field fxFlex="30%">
                              <input
                             
                                matNativeControl
                              
                                placeholder="Belge Tarihi"
                                formControlName="belgeTarihi"
                               
                              />

                              <!-- [matDatepicker]="belgeTarihi"
                              <mat-datepicker-toggle
                                matSuffix
                                [for]="belgeTarihi"
                              ></mat-datepicker-toggle>
                              <mat-datepicker
                                touchUi="true"
                                #belgeTarihi
                              ></mat-datepicker> -->
                            </mat-form-field>

                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteBelgeField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addBelgeField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Belge Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
             
            </mat-tab>
            <mat-tab label="Soru Cevaplar">
           
                <form [formGroup]="soruCevapForm" novalidate>
                  <div
                    fxLayout="row wrap"
                    fxLayout.xs="column"
                    fxLayoutWrap
                    fxLayoutGap="3.5%"
                    fxLayoutAlign="left"
                  >
                    <mat-card formArrayName="soruCevapArry"
                      ><mat-card-title>Soru,Cevap ve Açıklama Bilgileri</mat-card-title
                      ><mat-divider></mat-divider>

                      <div
                        *ngFor="
                          let unit of soruCevapBilgileri.controls;
                          let i = index
                        "
                      >
                        <mat-divider
                          *ngIf="
                            soruCevapBilgileri.controls.length > 1 && i > 0
                          "
                        ></mat-divider
                        ><br />

                        <div [formGroupName]="i">
                          <div
                            fxLayout="row wrap"
                            fxLayout.xs="column"
                            fxLayoutWrap
                            fxLayoutGap="5.5%"
                            fxLayoutAlign="space-around"
                          >
                            <mat-form-field fxFlex="10%">
                              <input
                              
                              matNativeControl
                              placeholder="Soru Kodu"
                              formControlName="soruKodu"
                            />
                             
                            </mat-form-field>
                            <mat-form-field fxFlex="10%">
                              <select
                                matNativeControl
                                placeholder="Cevap"
                                formControlName="soruCevap"
                              >
                                <option value=""></option>
                                <option value="Evet">Evet</option>
                                <option value="Hayir">Hayir</option>
                              </select>
                            </mat-form-field>
                            <mat-form-field fxFlex="10%">
                              <input
                                readonly
                                matNativeControl
                                placeholder="Tip"
                                formControlName="tip"
                              />
                            </mat-form-field>
                            <mat-form-field fxFlex="70%">
                              <textarea
                             
                              type="text"
                              rows="3"                              
                                readonly
                                matNativeControl
                                placeholder="Soru Açıklaması"
                                formControlName="soruAciklamasi"
                              ></textarea>
                            </mat-form-field>

                          
                            <button
                              mat-mini-fab
                              color="warn"
                              [disabled]="!kalemForm.valid"
                              (click)="deleteSoruCevapField(i)"
                            >
                              <mat-icon>delete forever</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>

                      <mat-divider></mat-divider
                      ><mat-card-actions
                        ><button
                          [disabled]="!kalemForm.valid"
                          mat-raised-button
                          (click)="addSoruCevapField()"
                        >
                          <mat-icon>add box</mat-icon>
                          Soru Ekle
                        </button></mat-card-actions
                      ></mat-card
                    >
                    <div></div>
                  </div>
                </form>
             
            </mat-tab>
          </mat-tab-group>
        </mat-card>
        <div class="text-right">
          <button
            [disabled]="
              !(
                kalemForm.valid &&
                tamamlayiciBilgileri.valid &&
                konteynerBilgileri.valid &&
                odemeBilgileri.valid &&
                markaBilgileri.valid &&
                acmaBilgileri.valid &&
                soruCevapBilgileri.valid &&
                vergiBilgileri.valid &&
                belgeBilgileri.valid
              )
            "
            class="btn btn-primary mr-1"
            (click)="onkalemFormSubmit()"
          >
            Kaydet
          </button>
          <!-- <button class="btn btn-secondary" type="reset" (click)="onReset()">
            İptal
          </button> -->
        </div>
      </form>
    </div>
  </div>
</div>
